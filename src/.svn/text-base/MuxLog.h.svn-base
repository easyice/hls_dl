#pragma once
#include <stdio.h>
#include <pthread.h>
#include <string.h>
#include <stdarg.h>



#define LV_DEBUG_IO	0
#define LV_DEBUG_EV	1
#define LV_USER		2
#define LV_WARNING	3
#define LV_ERROR    	4



class CMuxLog
{
public:
	
	~CMuxLog(void);
	static CMuxLog* GetInstancePtr();
	void Log(int level, const char *fmt, ...);
	void mux_vlog(int level, const char *fmt, va_list vl);
	void SetLogLevel(int level);
private:
	
private:
	CMuxLog(void);

	// 静态成员变量,提供全局惟一的一个实例
	static CMuxLog* m_pStatic;

	pthread_mutex_t m_muxLog;
	
	int m_nLogLevel;

};

extern void vs_log(int level, const char *fmt, ...);



